import{B as F,C as w,D as x,E as c,F as k,G as E,H as N,J as m,L as _,M as A,N as L,O as P,Q as M,R as V,a as b,b as v,c as u,d as f,e as p,i as e,j as t,k as a,l as h,n as i,q as g,t as y,x as S,y as C}from"./chunk-6OMENQ4S.js";var W=(()=>{let d=class d{constructor(o,n){this.housing=o,this.router=n,this.addForm=new N({name:new m("",c.required),city:new m("",c.required),photo:new m("",c.required),price:new m("",[c.required,c.min(1)]),wifi:new m(""),laundry:new m("")})}ngOnInit(){}updateImagePreview(){let o=this.addForm.get("photo");o&&o.updateValueAndValidity()}onSubmit(){if(this.addForm.valid){let o=this.addForm.value.name,n=this.addForm.value.city,r=this.addForm.value.photo,l=this.addForm.value.price,I=this.addForm.value.wifi,R=this.addForm.value.laundry;this.housing.addListing(o,n,r,l,I,R),this.router.navigate(["/edit"])}}};d.\u0275fac=function(n){return new(n||d)(f(V),f(S))},d.\u0275cmp=b({type:d,selectors:[["app-add-listing"]],standalone:!0,features:[g],decls:38,vars:4,consts:[[1,"container","my-2"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-8","col-lg-6"],[1,"mb-4",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","placeholder","Apartment",1,"form-control"],["for","city",1,"form-label"],["type","text","id","city","formControlName","city","placeholder","Athens",1,"form-control"],["for","photo",1,"form-label"],["type","text","id","photo","formControlName","photo","placeholder","Photo",1,"form-control",3,"change"],["alt","Image Preview","width","300px","height","200px",1,"img-fluid",2,"border-radius","4px",3,"src"],["for","price",1,"form-label"],["type","number","id","price","formControlName","price","placeholder","100",1,"form-control"],[1,"form-check"],["type","checkbox","id","wifi","formControlName","wifi",1,"form-check-input"],["for","wifi",1,"form-check-label"],["type","checkbox","id","laundry","formControlName","laundry",1,"form-check-input"],["for","laundry",1,"form-check-label"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","submit",1,"btn","btn-save",3,"disabled"],["type","button",1,"btn","btn-danger",3,"routerLink"]],template:function(n,r){if(n&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),h("ngSubmit",function(){return r.onSubmit()}),e(4,"h3"),i(5,"Add Listing"),t(),e(6,"div",4)(7,"label",5),i(8,"Name"),t(),a(9,"input",6),t(),e(10,"div",4)(11,"label",7),i(12,"City"),t(),a(13,"input",8),t(),e(14,"div",4)(15,"label",9),i(16,"Photo Url"),t(),e(17,"input",10),h("change",function(){return r.updateImagePreview()}),t()(),e(18,"div",4),a(19,"img",11),t(),e(20,"div",4)(21,"label",12),i(22,"Price"),t(),a(23,"input",13),t(),e(24,"div",4)(25,"div",14),a(26,"input",15),e(27,"label",16),i(28,"Wifi"),t()(),e(29,"div",14),a(30,"input",17),e(31,"label",18),i(32,"Laundry"),t()()(),e(33,"div",19)(34,"button",20),i(35," Save "),t(),e(36,"button",21),i(37," Cancel "),t()()()()()()),n&2){let l;u(3),p("formGroup",r.addForm),u(16),p("src",(l=r.addForm.get("photo"))!=null&&l.value?(l=r.addForm.get("photo"))==null?null:l.value:"https://via.placeholder.com/300x200.png",v),u(15),p("disabled",!r.addForm.valid),u(2),p("routerLink","/edit")}},dependencies:[y,F,C,M,_,x,A,w,k,E,L,P],styles:["button.btn-save[_ngcontent-%COMP%]{border:solid 1px #a01dc5;background-color:#a01dc5;color:#fff}button.btn-save[_ngcontent-%COMP%]:hover{background:#8e1bbf;color:#fff;cursor:pointer}"]});let s=d;return s})();export{W as AddListingComponent};
